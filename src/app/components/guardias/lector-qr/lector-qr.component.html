<div class="container mx-auto bg-white p-6 rounded-lg shadow-md flex flex-col items-center gap-4">
  <h3 class="text-xl font-semibold text-[#001b87] text-center">
    Escanear Código QR
  </h3>

  <!-- Vista de cámara -->
  <video
    id="video"
    width="320"
    height="240"
    class="rounded-md shadow border"
    *ngIf="camaraActiva"
  ></video>

  <!-- Mensaje -->
  <p class="text-sm text-center text-gray-700 font-medium mt-2">{{ mensaje }}</p>

  <!-- Botones -->
  <div class="flex flex-col gap-2 w-full max-w-xs mt-2">
    <!-- Iniciar cámara -->
    <ion-button expand="block" color="primary" (click)="iniciarCamara()" [disabled]="camaraActiva">
      Iniciar escáner
    </ion-button>

    <!-- Detener cámara -->
    <ion-button expand="block" color="danger" (click)="detenerCamara()" [disabled]="!camaraActiva">
      Detener cámara
    </ion-button>

    <!-- Reintentar -->
    <ion-button expand="block" color="medium" (click)="reintentar()" [disabled]="!resultado">
      Reintentar lectura
    </ion-button>
  </div>

  <!-- Resultado -->
<div *ngIf="resultado" class="mt-4 text-center space-y-2">
  <p class="font-mono text-sm text-gray-700">
    QR Detectado: <strong>{{ resultado }}</strong>
  </p>

  <div *ngIf="nombreVisita">
    <p class="text-gray-800">
      <strong>Nombre visita:</strong> {{ nombreVisita }}
    </p>
    <p class="text-gray-800">
      <strong>Referencia o descripción:</strong> {{ motivoVisita || 'Sin motivo registrado' }}
    </p>
  </div>
</div>

</div>
